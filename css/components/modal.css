.modal {
  @apply pointer-events-none invisible fixed inset-0 m-0 grid h-full max-h-none w-full max-w-none items-center justify-items-center bg-transparent p-0 text-[inherit];
  overflow-x: hidden;
  transition:
    transform 0.3s ease-out allow-discrete,
    visibility 0.3s ease-out allow-discrete,
    opacity 0.1s ease-out allow-discrete;
  overflow-y: hidden;
  overscroll-behavior: contain;
  z-index: 999;

  &:not(dialog:not(.modal-open)),
  &::backdrop {
    @apply opacity-100 starting:invisible starting:opacity-0;
    background-color: oklch(0% 0 0/ 0.4);
    transition:
      display 0.3s ease-out allow-discrete,
      opacity 0.3s ease-out allow-discrete,
      visibility 0.3s ease-out allow-discrete;
  }

  &.modal-open,
  &[open],
  &:target {
    @apply pointer-events-auto visible opacity-100 starting:invisible starting:opacity-0;

    .modal-box {
      translate: 0 0;
      scale: 1;
      opacity: 1;
    }
  }
}

.modal-action {
  @apply mt-6 flex justify-end gap-2;
}

.modal-toggle {
  @apply fixed h-0 w-0 appearance-none opacity-0;

  &:checked + .modal {
    @apply pointer-events-auto visible opacity-100 starting:invisible starting:opacity-0;

    .modal-box {
      translate: 0 0;
      scale: 1;
      opacity: 1;
    }
  }
}

.modal-backdrop {
  @apply -z-[1] col-start-1 row-start-1 grid self-stretch justify-self-stretch text-transparent;

  button {
    @apply cursor-pointer;
  }
}

.modal-box {
  @apply bg-base-100 col-start-1 row-start-1 w-11/12 max-w-lg p-6;
  transition:
    translate 0.3s ease-out,
    scale 0.3s ease-out,
    opacity 0.2s ease-out 0.05s,
    box-shadow 0.3s ease-out;
  border-top-left-radius: var(--modal-top-left-radius, var(--radius-box));
  border-top-right-radius: var(--modal-top-right-radius, var(--radius-box));
  border-bottom-left-radius: var(--modal-bottom-left-radius, var(--radius-box));
  border-bottom-right-radius: var(--modal-bottom-right-radius, var(--radius-box));
  scale: 95%;
  opacity: 0;
  box-shadow: oklch(0% 0 0/ 0.25) 0px 25px 50px -12px;
  overflow-y: auto;
  overscroll-behavior: contain;
}

.modal-top {
  @apply place-items-start;

  :where(.modal-box) {
    @apply h-auto w-full max-w-none;
    max-height: calc(100vh - 5em);
    translate: 0 -5%;
    scale: 1;
    --modal-top-left-radius: 0;
    --modal-top-right-radius: 0;
    --modal-bottom-left-radius: var(--radius-box);
    --modal-bottom-right-radius: var(--radius-box);
  }
}

.modal-middle {
  @apply place-items-center;

  :where(.modal-box) {
    @apply h-auto w-11/12 max-w-lg;
    max-height: calc(100vh - 5em);
    translate: 0 2%;
    scale: 98%;
    --modal-top-left-radius: var(--radius-box);
    --modal-top-right-radius: var(--radius-box);
    --modal-bottom-left-radius: var(--radius-box);
    --modal-bottom-right-radius: var(--radius-box);
  }
}

.modal-bottom {
  @apply place-items-end;

  :where(.modal-box) {
    @apply h-auto w-full max-w-none;
    max-height: calc(100vh - 5em);
    translate: 0 5%;
    scale: 1;
    --modal-top-left-radius: var(--radius-box);
    --modal-top-right-radius: var(--radius-box);
    --modal-bottom-left-radius: 0;
    --modal-bottom-right-radius: 0;
  }
}

.modal-start {
  @apply place-items-start;

  :where(.modal-box) {
    @apply h-screen max-h-none w-auto max-w-none;
    translate: -5% 0;
    scale: 1;
    --modal-top-left-radius: 0;
    --modal-top-right-radius: var(--radius-box);
    --modal-bottom-left-radius: 0;
    --modal-bottom-right-radius: var(--radius-box);
  }
}

.modal-end {
  @apply place-items-end;

  :where(.modal-box) {
    @apply h-screen max-h-none w-auto max-w-none;
    translate: 5% 0;
    scale: 1;
    --modal-top-left-radius: var(--radius-box);
    --modal-top-right-radius: 0;
    --modal-bottom-left-radius: var(--radius-box);
    --modal-bottom-right-radius: 0;
  }
}

@keyframes modal-pop {
  0% {
    opacity: 0;
  }
}
